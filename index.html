<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mon Journal PrivÃ©</title>

<!-- FullCalendar CSS -->
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css" rel="stylesheet">

<style>
  body{font-family:Arial,sans-serif; margin:0; padding:16px; background:#f6f7fb; color:#0f1724;}
  body.dark{background:#0b1220; color:#e6eef8;}
  .panel{background:white; padding:12px; border-radius:12px; margin-bottom:12px;}
  .layout{display:grid; grid-template-columns:360px 1fr; gap:16px;}
  @media (max-width:900px){.layout{grid-template-columns:1fr;}}
  input, textarea, button{font:inherit; border-radius:8px; padding:6px 10px; margin-bottom:6px;}
  #calendar{background:white; border-radius:12px; padding:8px;}
  .entry{border:1px solid #ddd; border-radius:8px; padding:10px; margin-bottom:10px;}
  .entry .meta{display:flex; justify-content:space-between; margin-bottom:6px;}
  .entry-tags{display:flex; gap:6px; flex-wrap:wrap;}
  .tag{background:rgba(37,99,235,0.08); color:#2563eb; padding:4px 8px; border-radius:999px; font-size:0.85rem; cursor:pointer;}
  body.dark .tag{background: rgba(96,165,250,0.08);}
  #loginPopup{display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.4); justify-content:center; align-items:center;}
  #loginCard{background:white; padding:18px; border-radius:12px; width:360px;}
</style>

</head>
<body>

<button id="adminBtn">Admin</button>
<button id="darkToggle">ðŸŒ™</button>

<div id="lockedMessage" class="panel">
  <p>Ce journal est privÃ©. Cliquez sur Admin pour vous connecter.</p>
</div>

<div id="journalContent" style="display:none;">

  <div class="layout">

    <div>
      <div class="panel">
        <h3>Nouvelle entrÃ©e</h3>
        <input id="newTitle" placeholder="Titre">
        <textarea id="newContent" placeholder="Texte"></textarea>
        <input id="newTags" placeholder="Tags (sÃ©parÃ©s par virgule)">
        <button id="addEntryBtn">Ajouter</button>
        <button id="clearFilters">RÃ©initialiser filtres</button>
      </div>

      <div class="panel">
        <h3>Calendrier</h3>
        <div id="calendar"></div>
      </div>
    </div>

    <div>
      <div class="panel">
        <input id="searchDate" type="date">
        <input id="searchText" placeholder="Rechercher...">
        <button id="searchBtn">Rechercher</button>

        <div id="allTags" class="tags-row" style="margin-top:8px;"></div>

        <div id="entries"></div>
      </div>
    </div>

  </div>
</div>

<!-- Login popup -->
<div id="loginPopup" style="display:flex; justify-content:center; align-items:center;">
  <div id="loginCard">
    <h3>Connexion</h3>
    <input id="email" type="email" placeholder="Email"><br>
    <input id="password" type="password" placeholder="Mot de passe"><br>
    <button id="loginBtn">Se connecter</button>
    <button id="closeLogin">Fermer</button>
  </div>
</div>

<!-- FullCalendar CSS -->
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css" rel="stylesheet">

<!-- FullCalendar JS global -->
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.global.min.js"></script>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
  const firebaseConfig = {
  apiKey: "AIzaSyB-DfZugoODC32gUqZH8lU6IJ2Kq2MSGng",
  authDomain: "mon-journal-d5e59.firebaseapp.com",
  projectId: "mon-journal-d5e59",
  storageBucket: "mon-journal-d5e59.firebasestorage.app",
  messagingSenderId: "695080304385",
  appId: "1:695080304385:web:8b0beb7d3f314a2ffe2500",
  measurementId: "G-5RXVSVPHM9"
  };
  firebase.initializeApp(firebaseConfig);
</script>

<script src="app.js"></script>
</body>
</html>
